# LightPulse - 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
LightPulse

### 1.2 目的
Webアプリケーション開発者が自分のサイトのセキュリティを簡単にチェックできる、軽量な動的解析（DASH）ツールを提供する。

### 1.3 概要
ユーザーがURLを入力するだけで、基本的なSQLインジェクションやXSS（クロスサイトスクリプティング）の脆弱性を自動的にチェックするWebサービス。

## 2. 機能要件

### 2.1 コア機能

#### 2.1.1 URL入力機能
- **要件ID**: REQ-001
- **説明**: ユーザーが検査対象のURLを入力できる
- **詳細**:
  - URL入力フィールドを提供
  - URL形式のバリデーション（http/https）
  - 入力されたURLの基本検証（アクセス可能性の確認）

#### 2.1.2 SQLインジェクション検出機能
- **要件ID**: REQ-002
- **説明**: SQLインジェクションの脆弱性を検出する
- **詳細**:
  - GET/POSTパラメータへの基本的なSQLインジェクション攻撃パターンの送信
  - エラーメッセージやレスポンス時間からSQLインジェクションの可能性を判定
  - 検出された脆弱性のレポート表示

#### 2.1.3 XSS検出機能
- **要件ID**: REQ-003
- **説明**: クロスサイトスクリプティング（XSS）の脆弱性を検出する
- **詳細**:
  - GET/POSTパラメータへのXSSペイロードの送信
  - リフレクテッドXSSとストアドXSSの基本的な検出
  - 検出された脆弱性のレポート表示

#### 2.1.4 検査結果レポート機能
- **要件ID**: REQ-004
- **説明**: 検査結果をユーザーに分かりやすく表示する
- **詳細**:
  - 検査結果の一覧表示
  - 脆弱性の種類、重大度、発見箇所の表示
  - 推奨される対策の提示
  - 検査結果のエクスポート機能（オプション）

### 2.2 補助機能

#### 2.2.1 検査履歴機能
- **要件ID**: REQ-005
- **説明**: 過去の検査結果を保存・閲覧できる（オプション）
- **詳細**:
  - ブラウザのローカルストレージを使用した履歴保存
  - 履歴の一覧表示と削除機能

#### 2.2.2 進捗表示機能
- **要件ID**: REQ-006
- **説明**: 検査中の進捗状況をユーザーに表示する
- **詳細**:
  - プログレスバーまたはローディングインジケーター
  - 現在実行中の検査項目の表示

## 3. 非機能要件

### 3.1 パフォーマンス
- **要件ID**: NFR-001
- **説明**: 検査の実行時間を最小限に抑える
- **目標**: 1つのURLに対して基本的な検査を5分以内に完了

### 3.2 ユーザビリティ
- **要件ID**: NFR-002
- **説明**: 技術者でなくても簡単に使用できる
- **詳細**:
  - 直感的なUI/UX
  - シンプルな操作フロー
  - 結果のわかりやすい表示

### 3.3 軽量性
- **要件ID**: NFR-003
- **説明**: 軽量で高速に動作する
- **詳細**:
  - 最小限の依存関係
  - フロントエンド中心の実装（可能な限り）

### 3.4 拡張性
- **要件ID**: NFR-004
- **説明**: 将来的に他の脆弱性検出機能を追加できる
- **詳細**:
  - モジュール化された設計
  - プラグイン的な拡張が可能な構造

## 4. 技術要件

### 4.1 フロントエンド
- **要件ID**: TECH-001
- **技術スタック**:
  - HTML/CSS/JavaScript（バニラJSまたは軽量フレームワーク）
  - モダンなUIフレームワークの検討（Tailwind CSSなど）

### 4.2 バックエンド（必要に応じて）
- **要件ID**: TECH-002
- **技術スタック**:
  - 可能な限りクライアントサイドでの実装を優先
  - CORS制約がある場合は、軽量なバックエンド（Node.js/Express、Python/Flaskなど）

### 4.3 セキュリティテストパターン
- **要件ID**: TECH-003
- **説明**: 使用する脆弱性検出パターンの定義
- **詳細**:
  - SQLインジェクション: 基本的なパターン（' OR '1'='1、UNION SELECTなど）
  - XSS: 基本的なスクリプトタグ（<script>alert('XSS')</script>など）

## 5. セキュリティ要件

### 5.1 ユーザーのセキュリティ
- **要件ID**: SEC-001
- **説明**: ユーザーが入力したURLや情報の保護
- **詳細**:
  - 入力データの適切な処理
  - 個人情報の収集を最小限に

### 5.2 責任の明確化
- **要件ID**: SEC-002
- **説明**: ツールの使用に関する注意事項の明示
- **詳細**:
  - 自分が所有または許可を得たサイトのみを検査する旨の警告
  - 不正な使用に対する免責事項

## 6. UI/UX要件

### 6.1 デザイン要件
- **要件ID**: UI-001
- **説明**: モダンでシンプルなデザイン
- **詳細**:
  - クリーンなインターフェース
  - レスポンシブデザイン（モバイル対応）

### 6.2 ユーザーフロー
1. トップページでURLを入力
2. 「検査開始」ボタンをクリック
3. 進捗表示を確認しながら待機
4. 結果レポートを確認
5. 必要に応じて結果をエクスポート

## 7. 制約事項

### 7.1 技術的制約
- **要件ID**: CON-001
- **説明**: ブラウザのCORSポリシーによる制約
- **詳細**: クロスオリジンリクエストが制限される場合がある

### 7.2 機能的制約
- **要件ID**: CON-002
- **説明**: 基本的な脆弱性のみを検出
- **詳細**: 高度な脆弱性や複雑な攻撃パターンは対象外

## 8. 今後の拡張案

- 認証が必要なサイトの検査（ログイン機能）
- より高度なSQLインジェクション検出パターン
- CSRF脆弱性の検出
- セキュリティヘッダーのチェック
- 検査結果の詳細なレポート（PDF/HTMLエクスポート）
- 複数のURLの一括検査

## 9. 成功基準

1. ユーザーが5分以内で基本的な脆弱性検査を完了できる
2. SQLインジェクションとXSSの基本的なパターンを検出できる
3. 直感的なUIで技術者以外でも使用可能
4. 軽量で高速に動作する

